[profile.default]
src = "src"
out = "out"
libs = ["lib"]
ignored_warnings_from = ["test", "lib"]
solc_version = "0.8.26"
evm_version = "cancun"  # Required for transient storage (EIP-1153)
bytecode_hash = "none"
optimizer = true
optimizer_runs = 200  # Lower runs = faster compile (was 20000)
via_ir = true  # Required due to stack depth in RewardsEngine
fuzz = { runs = 1000 }
fs_permissions = [{ access = "read-write", path = "./" }]
remappings = [
    "@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/",
    "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
    "murky/=lib/murky/"
]

[fmt]
line_length = 100
multiline_func_header = "attributes_first"

[lint]
include = ["src"]
exclude = ["test", "script", "lib"]
exclude_lints = [
    "erc20-unchecked-transfer",
    "unaliased-plain-import",
    "mixed-case-function",
    "mixed-case-variable",
    "asm-keccak256",
    "unused-import",
    "screaming-snake-case-immutable",
    "divide-before-multiply"
]

[profile.ci]
verbosity = 3
fuzz = { runs = 256 }

